{% extends 'base.html' %} {% block content %}

<div class="container mt-4">
  <h2 class="text-center mb-4">My Cart</h2>

  {% if not cart %}
  <!-- EMPTY CART -->
  <div class="text-center">
    <h4>No items in cart ğŸ˜¶</h4>
  </div>

  {% else %}
  <!-- ITEMS IN CART -->

  {% for key, item in cart.items %}
  <div class="card mb-3 p-3">
    <div class="row align-items-center">
      <!-- IMAGE -->
      <div class="col-md-3">
        <img src="{{ item.img }}" class="img-fluid" width="250" />
      </div>

      <!-- DETAILS -->
      <div class="col-md-6">
        <h4>{{ item.name }}</h4>
        <p>Rating: â­ {{ item.rating|default:"4.5" }}</p>
        <p>Price: â‚¹{{ item.price }}</p>
        <p>Quantity: {{ item.qty }}</p>
      </div>

      <!-- ACTIONS -->
      <div class="col-md-3 text-center">
        <div class="d-flex justify-content-center align-items-center gap-2">
          <a
            href="{% url 'decrease_qty' key %}"
            class="btn btn-sm btn-outline-secondary"
            >â–</a
          >

          <span class="fw-bold">{{ item.qty }}</span>

          <a
            href="{% url 'increase_qty' key %}"
            class="btn btn-sm btn-outline-secondary"
            >â•</a
          >

          <a
            href="{% url 'remove_item' key %}"
            class="btn btn-sm btn-outline-danger ms-2"
            >ğŸ—‘ï¸</a
          >
        </div>
      </div>
    </div>
  </div>
  {% endfor %}

  <!-- TOTAL PRICE -->
  <div class="text-end">
    <h4>Total Price: â‚¹{{ total_price }}</h4>
  </div>

  <!-- ORDER BUTTON -->
  <a href="{% url 'make_order' %}" class="btn btn-success btn-lg">
  Make an Order
</a>

  {% endif %}
</div>

{% endblock %}
